var e=Object.defineProperty,t=("undefined"!=typeof require&&require,(t,i,s)=>(((t,i,s)=>{i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s})(t,"symbol"!=typeof i?i+"":i,s),s));import{W as i,V as s,S as n,P as o,a as r,A as a,b as d,B as w,c as l,G as c,M as A,O as h,d as M,e as p,o as m,f as u,g as D,h as y,i as b,j as g}from"./vendor.a36873fa.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class C{constructor(e,c){t(this,"world"),t(this,"timeStep"),t(this,"lastCallTime"),t(this,"scene"),t(this,"camera"),t(this,"renderer"),t(this,"dice"),this.world=new i({gravity:new s(0,0,-9.82)}),this.timeStep=1/60,this.lastCallTime=-1,this.scene=new n,this.camera=new o(75,e/c,.1,1e3),this.camera.position.z=5,this.renderer=new r,this.renderer.setSize(e,c),this.animate=this.animate.bind(this);const A=new a(16777215,.4);this.scene.add(A);const h=new d(16777215,.8);h.position.set(-5,0,5),this.scene.add(h);const M=new w({type:w.STATIC,shape:new l});M.position.set(0,0,-5),this.world.addBody(M),this.dice=new f(this.scene,this.world)}drag(e,t,i,n){const o=new s(0,0,1),r=new s((i-e)*this.timeStep,-(n-t)*this.timeStep,0);this.dice.boxBody.applyImpulse(r,o)}update(){this.dice.update()}resize(e,t){this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}getRendererDomElement(){return this.renderer.domElement}animate(){requestAnimationFrame(this.animate);const e=performance.now()/1e3;if(this.lastCallTime<0)this.world.step(this.timeStep);else{const t=e-this.lastCallTime;this.world.step(this.timeStep,t)}this.lastCallTime=e,this.update(),this.renderer.render(this.scene,this.camera)}}class f{constructor(e,i){t(this,"object"),t(this,"boxBody"),this.object=new c,this.boxBody=new w;(new A).load("data:model/mtl;base64,IyBCbGVuZGVyIE1UTCBGaWxlOiAnTm9uZScKIyBNYXRlcmlhbCBDb3VudDogMgoKbmV3bXRsIGJsYWNrCk5zIDk2LjA3ODQ0MwpLYSAxLjAwMDAwMCAxLjAwMDAwMCAxLjAwMDAwMApLZCAwLjAxNTA3OSAwLjAxNTA3OSAwLjAxNTA3OQpLcyAwLjUwMDAwMCAwLjUwMDAwMCAwLjUwMDAwMApLZSAwLjAwMDAwMCAwLjAwMDAwMCAwLjAwMDAwMApOaSAxLjAwMDAwMApkIDEuMDAwMDAwCmlsbHVtIDIKCm5ld210bCB3aGl0ZQpOcyA5Ni4wNzg0NDMKS2EgMS4wMDAwMDAgMS4wMDAwMDAgMS4wMDAwMDAKS2QgMC42NDAwMDAgMC42NDAwMDAgMC42NDAwMDAKS3MgMC41MDAwMDAgMC41MDAwMDAgMC41MDAwMDAKS2UgMC4wMDAwMDAgMC4wMDAwMDAgMC4wMDAwMDAKTmkgMS4wMDAwMDAKZCAxLjAwMDAwMAppbGx1bSAyCg==",(t=>{t.preload();const n=new h;n.setMaterials(t),n.load("/rollingrolling/assets/dice.51feee13.obj",(t=>{e.add(t),this.object=t;const n=new s(1,1,1),o=new M(n);this.boxBody=new w({mass:1,shape:o}),i.addBody(this.boxBody)}),(e=>{}),(e=>{alert("Failed to load the dice object.")}))}))}update(){this.object.position.set(this.boxBody.position.x,this.boxBody.position.y,this.boxBody.position.z),this.object.quaternion.set(this.boxBody.quaternion.x,this.boxBody.quaternion.y,this.boxBody.quaternion.z,this.boxBody.quaternion.w)}}var x=p({setup(e){const t=new C(window.innerWidth,window.innerHeight);window.addEventListener("resize",s);let i=[0,0];function s(e){t.resize(window.innerWidth,window.innerHeight)}function n(e){i[0]=e.x,i[1]=e.y}function o(e){t.drag(i[0],i[1],e.x,e.y)}return m((()=>{var e;null==(e=document.getElementById("canvas-container"))||e.appendChild(t.getRendererDomElement()),t.animate()})),u((()=>{window.removeEventListener("resize",s)})),(e,t)=>(D(),y("div",{id:"canvas-container",onMousedown:n,onMouseup:o},null,32))}});g(p({setup:e=>(e,t)=>(D(),b(x))})).mount("#app");
